context.objects = [
    {   factory = adapter
        args = {
            factory.name           = api.alsa.pcm.sink
            node.name             = "turtlebeach-main"    # Primary stereo output
            node.description      = "Headset Game"
            media.class           = "Audio/Sink"
            api.alsa.path         = "hw:0,0"
            api.alsa.period-size  = 384
            api.alsa.period-num   = 3
            api.alsa.headroom     = 768
            audio.format          = "S16LE"  # Device only supports 16-bit
            audio.rate            = 48000    # Device's native rate
            audio.channels        = 2        # Stereo output
            api.alsa.disable-mmap = true     # Required for USB full-speed devices
            api.alsa.disable-batch = true    # Better for USB audio
            api.alsa.use-chmap    = false    # Disable channel remapping
        }
    },
    {   factory = adapter
        args = {
            factory.name           = api.alsa.pcm.sink
            node.name             = "turtlebeach-chat"     # Secondary output
            node.description      = "Headset Chat Output"
            media.class           = "Audio/Source"
            api.alsa.path         = "hw:0,1"
            api.alsa.period-size  = 192
            api.alsa.period-num   = 3
            audio.format          = "S16LE"
            audio.rate            = 48000
            audio.channels        = 2
        }
    }
]
context.properties = {
    default.clock.rate          = 48000
    default.clock.allowed-rates = [ 48000 ]  # Only 48kHz supported
    default.clock.quantum       = 384        # Matches period size
    default.clock.min-quantum   = 384
    default.clock.max-quantum   = 384
}

stream.properties = {
    resample.quality = 4          # Lower quality needed for USB full-speed
    resample.method  = "speex-float-1"  # Best for 16-bit audio
}
